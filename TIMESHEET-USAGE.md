# ⏱️ Timesheet Tracker - 使用说明

## 🎯 功能概述

**Timesheet Tracker** 是为时薪工作者（特别是兼职打工人）设计的精确工时追踪工具。

### 核心功能

✅ **日历视图** - 直观查看每天的打卡记录  
✅ **多条目支持** - 一天可添加多个打卡记录（分段上班）  
✅ **自动加班计算** - 根据省份规则自动计算加班费  
✅ **灵活发薪频率** - 支持 Daily / Weekly / Bi-Weekly / Monthly / Quarterly  
✅ **实时汇总** - 自动计算总工时和预估收入  

---

## 🚀 使用流程

### 1. 选择计算模式

在首页点击 **"Timesheet Tracker"** 卡片进入精确打卡模式。

### 2. 设置基本信息

```
📍 Province: 选择工作省份（决定加班规则）
💰 Hourly Wage: 输入时薪
📅 Pay Frequency: 选择发薪频率
   - Daily: 每天结算
   - Weekly: 每周结算
   - Bi-Weekly: 每两周结算（默认）
   - Monthly: 每月结算
   - Quarterly: 每季度结算
```

### 3. 添加打卡记录

1. **点击日历上的日期**  
   选择要添加记录的日期（已有记录的日期会显示红点）

2. **点击 "+ Add Entry" 按钮**  
   打开添加记录表单

3. **填写打卡信息**  
   ```
   Check In: 上班时间（如 09:00）
   Check Out: 下班时间（如 17:00）
   Unpaid Break: 无薪休息时间（分钟，如 30）
   Notes: 备注（可选，如 "Training session"）
   ```

4. **点击 "Add Entry" 保存**

### 4. 查看计算结果

右侧会实时显示：
- 📊 **当期净收入**（根据选择的发薪频率）
- 📈 **年度收入预估**
- 💰 **详细扣款明细**（税金、CPP、EI）
- ⏰ **总工时统计**

---

## 💡 使用场景

### 场景 1: 兼职咖啡师（时间不固定）

```
Monday:    08:00 - 12:00 (Break: 0)  → 4 小时
Tuesday:   14:00 - 18:00 (Break: 15) → 3.75 小时
Wednesday: 09:00 - 13:00 (Break: 0)  → 4 小时
Thursday:  休息
Friday:    08:00 - 17:00 (Break: 30) → 8.5 小时

Total: 20.25 小时/周
```

### 场景 2: 餐厅服务员（分段上班）

```
Saturday:
  • 11:00 - 14:00 (Break: 15) → 2.75 小时（午餐档）
  • 17:00 - 22:00 (Break: 30) → 4.5 小时（晚餐档）
  
Total: 7.25 小时/天
```

### 场景 3: 合同工（跨夜班）

```
Thursday Night:
  • Check In:  22:00
  • Check Out: 06:00 (次日)
  • Break: 30 minutes
  
Total: 7.5 小时（系统自动处理跨夜）
```

---

## 📊 加班规则说明

系统会根据您选择的省份自动应用对应的加班规则：

### BC (British Columbia) - 最复杂
```
每天超过 8 小时 → 1.5x
每天超过 12 小时 → 2.0x
每周超过 40 小时 → 1.5x
```

### Alberta
```
每天超过 8 小时 → 1.5x
每周超过 44 小时 → 1.5x
```

### Ontario & 其他省份
```
每周超过 44 小时 → 1.5x
（无每日加班规则）
```

**计算优先级**：系统会自动选择"对员工最有利"的计算方式。

---

## 🎨 界面功能说明

### 日历视图

```
🗓️ 当前月份显示
   - 今日：红色边框
   - 已选日期：红色填充
   - 有记录日期：底部显示红点
```

### 打卡记录卡片

```
📝 每条记录显示：
   - 上下班时间：09:00 → 17:00
   - 工作时长：(7.5h)
   - 休息时间：Break: 30min
   - 备注：Training session
   - 删除按钮：✕
```

### 总计面板

```
📊 Total Hours Tracked
   - 总记录数：12 entries
   - 总工时：85.5 hours
```

---

## ⚠️ 注意事项

### 1. 数据保存

目前数据只保存在浏览器本地（localStorage），刷新页面不会丢失，但：
- ❌ **关闭浏览器后会丢失**（建议及时导出）
- ❌ **无法跨设备同步**

### 2. 跨夜班次

✅ 系统支持跨夜打卡（如 22:00 - 06:00）  
✅ 自动计算跨越零点的工时  

### 3. 加班计算

⚠️ 加班时间是基于"周"为单位累计的：
- 打卡记录会自动按周分组
- 系统识别 ISO 周（周一到周日）

### 4. 发薪频率

💡 **选择合适的发薪频率**：
- Daily: 日结工（如临时工）
- Weekly: 每周发薪（常见于餐饮业）
- Bi-Weekly: 每两周发薪（加拿大标准）
- Monthly: 月薪制（合同工）
- Quarterly: 季度结算（项目制）

---

## 🎯 下一步计划（未来功能）

### Phase 1: 数据持久化（即将推出）
```
✅ Supabase 后端集成
✅ 可选注册登录
✅ 跨设备同步
✅ 历史记录保存
```

### Phase 2: 高级功能
```
⏳ CSV/Excel 导出
⏳ 生成工时报表 PDF（付费）
⏳ 工资走势图表
⏳ 多项目/多雇主管理
```

### Phase 3: 移动应用
```
⏳ PWA（离线使用）
⏳ 快速打卡（一键上下班）
⏳ 推送提醒（工资到账提醒）
```

---

## 🆘 常见问题

### Q: 如何添加多个打卡记录？
**A:** 选择日期后，点击多次 "+ Add Entry" 即可添加多条记录（适合分段上班）。

### Q: 可以修改已添加的记录吗？
**A:** 目前只能删除后重新添加。未来版本会支持编辑功能。

### Q: 跨周工作怎么算？
**A:** 系统按 ISO 周（周一开始）自动分组，每周独立计算加班。

### Q: 为什么显示的收入和实际不一样？
**A:** 可能原因：
1. 税率是估算值（实际取决于全年收入）
2. 未考虑其他扣款（如工会费）
3. 发薪频率选择错误

### Q: 数据会丢失吗？
**A:** 目前数据保存在本地，关闭浏览器后会丢失。建议：
- 定期截图保存
- 等待下个版本的云端同步功能
- 注册后数据会自动保存（即将推出）

---

## 💰 变现规则

### 免费功能（当前）
✅ 无限打卡记录  
✅ 自动加班计算  
✅ 实时收入预估  
✅ 基础数据统计  

### 付费功能（即将推出）
💰 **导出 PDF 报表** - $2.99/次  
💰 **历史数据云端保存** - $9.99/月  
💰 **高级分析报表** - Pro 功能  

---

## 🎉 完成！

现在您已经掌握了 **Timesheet Tracker** 的所有功能！

**开始追踪您的工时吧** 🚀

有任何问题或建议？欢迎反馈：
- 📧 Email: support@canpayinsights.com
- 💬 Reddit: r/CanPayInsights
